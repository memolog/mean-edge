{"version":3,"sources":["view.js"],"names":[],"mappings":"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","file":"src/render/dom/view/view.js","sourceRoot":"/Users/yamaguchi/Desktop/mean-edge/node_modules/angular2/es6/dev/","sourcesContent":["import {DOM} from 'angular2/src/dom/dom_adapter';\nimport {ListWrapper,\n  MapWrapper,\n  Map,\n  StringMapWrapper,\n  List} from 'angular2/src/facade/collection';\nimport {Locals} from 'angular2/change_detection';\nimport {int,\n  isPresent,\n  isBlank,\n  BaseException} from 'angular2/src/facade/lang';\nimport {DomViewContainer} from './view_container';\nimport {DomProtoView} from './proto_view';\nimport {LightDom} from '../shadow_dom/light_dom';\nimport {Content} from '../shadow_dom/content_tag';\nimport {RenderViewRef} from '../../api';\nexport function resolveInternalDomView(viewRef) {\n  var domViewRef = viewRef;\n  return domViewRef._view;\n}\nObject.defineProperty(resolveInternalDomView, \"parameters\", {get: function() {\n    return [[RenderViewRef]];\n  }});\nexport class DomViewRef extends RenderViewRef {\n  constructor(view) {\n    super();\n    this._view = view;\n  }\n}\nObject.defineProperty(DomViewRef, \"parameters\", {get: function() {\n    return [[DomView]];\n  }});\nconst NG_BINDING_CLASS = 'ng-binding';\nexport class DomView {\n  constructor(proto, rootNodes, boundTextNodes, boundElements, contentTags) {\n    this.proto = proto;\n    this.rootNodes = rootNodes;\n    this.boundTextNodes = boundTextNodes;\n    this.boundElements = boundElements;\n    this.viewContainers = ListWrapper.createFixedSize(boundElements.length);\n    this.contentTags = contentTags;\n    this.lightDoms = ListWrapper.createFixedSize(boundElements.length);\n    this.hostLightDom = null;\n    this.hydrated = false;\n    this.eventHandlerRemovers = [];\n    this.eventDispatcher = null;\n    this.shadowRoot = null;\n  }\n  getDirectParentLightDom(boundElementIndex) {\n    var binder = this.proto.elementBinders[boundElementIndex];\n    var destLightDom = null;\n    if (binder.parentIndex !== -1 && binder.distanceToParent === 1) {\n      destLightDom = this.lightDoms[binder.parentIndex];\n    }\n    return destLightDom;\n  }\n  setElementProperty(elementIndex, propertyName, value) {\n    var setter = MapWrapper.get(this.proto.elementBinders[elementIndex].propertySetters, propertyName);\n    setter(this.boundElements[elementIndex], value);\n  }\n  callAction(elementIndex, actionExpression, actionArgs) {\n    var binder = this.proto.elementBinders[elementIndex];\n    var hostAction = MapWrapper.get(binder.hostActions, actionExpression);\n    hostAction.eval(this.boundElements[elementIndex], this._localsWithAction(actionArgs));\n  }\n  _localsWithAction(action) {\n    var map = MapWrapper.create();\n    MapWrapper.set(map, '$action', action);\n    return new Locals(null, map);\n  }\n  setText(textIndex, value) {\n    DOM.setText(this.boundTextNodes[textIndex], value);\n  }\n  dispatchEvent(elementIndex, eventName, event) {\n    var allowDefaultBehavior = true;\n    if (isPresent(this.eventDispatcher)) {\n      var evalLocals = MapWrapper.create();\n      MapWrapper.set(evalLocals, '$event', event);\n      allowDefaultBehavior = this.eventDispatcher.dispatchEvent(elementIndex, eventName, evalLocals);\n      if (!allowDefaultBehavior) {\n        event.preventDefault();\n      }\n    }\n    return allowDefaultBehavior;\n  }\n}\nObject.defineProperty(DomView, \"parameters\", {get: function() {\n    return [[DomProtoView], [List], [List], [List], [List]];\n  }});\nObject.defineProperty(DomView.prototype.getDirectParentLightDom, \"parameters\", {get: function() {\n    return [[assert.type.number]];\n  }});\nObject.defineProperty(DomView.prototype.setElementProperty, \"parameters\", {get: function() {\n    return [[assert.type.number], [assert.type.string], [assert.type.any]];\n  }});\nObject.defineProperty(DomView.prototype.callAction, \"parameters\", {get: function() {\n    return [[assert.type.number], [assert.type.string], [assert.type.any]];\n  }});\nObject.defineProperty(DomView.prototype._localsWithAction, \"parameters\", {get: function() {\n    return [[Object]];\n  }});\nObject.defineProperty(DomView.prototype.setText, \"parameters\", {get: function() {\n    return [[assert.type.number], [assert.type.string]];\n  }});\n//# sourceMappingURL=view.js.map\n\n//# sourceMappingURL=./view.map"]}