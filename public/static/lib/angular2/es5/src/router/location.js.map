{"version":3,"sources":["location.js"],"names":[],"mappings":"AAAA,KAAK,SAAS,AAAC,iFAAoB,UAAS,SAAQ;;;;;;;AA8CpD,SAAS,eAAa,CAAE,GAAE,CAAG;AAC3B,OAAI,GAAE,OAAO,EAAI,GAAC,CAAA,EAAK,CAAA,aAAY,UAAU,AAAC,CAAC,GAAE,CAAG,CAAA,GAAE,OAAO,EAAI,GAAC,CAAC,CAAA,EAAK,cAAY,CAAG;AACrF,WAAO,CAAA,aAAY,UAAU,AAAC,CAAC,GAAE,CAAG,EAAA,CAAG,CAAA,GAAE,OAAO,EAAI,GAAC,CAAC,CAAC;IACzD;AAAA,AACA,SAAO,IAAE,CAAC;EACZ;AAnDA,AAmDA,OAnDO;AACD,UAAM,GADZ,SAAS,IAAG,CAAG;AAAf,sBAAoB,KAAG,gBAAkB,CAAC;IAElC,CAFR,UAAS,IAAG,CAAG;AAAf,oBAAoB,KAAG,cAAkB,CAAC;IAElC,CAFR,UAAS,IAAG;AAAZ,mBAAoB,KAAG,aAAkB,CAAC;AAA1C,wBAAoB,KAAG,kBAAkB,CAAC;IAElC,CADuB;AACzB,UAAM;AAFZ,iBAAA,SAAQ,AAAC;AAIF,eAAM,SAAO,CACN,eAAc;;AACxB,aAAG,SAAS,EAAI,IAAI,aAAW,AAAC,EAAC,CAAC;AAClC,aAAG,iBAAiB,EAAI,gBAAc,CAAC;AACvC,aAAG,UAAU,EAAI,CAAA,cAAa,AAAC,CAAC,IAAG,iBAAiB,YAAY,AAAC,EAAC,CAAC,CAAC;AACpE,aAAG,iBAAiB,WAAW,AAAC,EAAC,SAAC,CAAA;iBAAM,CAAA,gBAAe,AAAC,CAAC,CAAA,CAAC;UAAA,EAAC,CAAC;QA8BhE;AArCU,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC;AAS5C,oBAAU,CAAV,UAAY,CAAA,CAAG;AACb,4BAAgB,SAAS,AAAC,CAAC,IAAG,SAAS,CAAG,EAAC,KAAI,CAAG,CAAA,IAAG,KAAK,AAAC,EAAC,CAAC,CAAC,CAAC;UACjE;AACA,aAAG,CAAH,UAAI,AAAC,CAAE;AACL,iBAAO,CAAA,IAAG,UAAU,AAAC,CAAC,IAAG,iBAAiB,KAAK,AAAC,EAAC,CAAC,CAAC;UACrD;AACA,kBAAQ,CAAR,UAAU,GAAE,CAAG;AACb,iBAAO,CAAA,IAAG,eAAe,AAAC,CAAC,cAAa,AAAC,CAAC,GAAE,CAAC,CAAC,CAAC;UACjD;AACA,uBAAa,CAAb,UAAe,GAAE,CAAG;AAClB,eAAI,IAAG,UAAU,OAAO,EAAI,EAAA,CAAA,EAAK,CAAA,aAAY,WAAW,AAAC,CAAC,GAAE,CAAG,CAAA,IAAG,UAAU,CAAC,CAAG;AAC9E,mBAAO,CAAA,aAAY,UAAU,AAAC,CAAC,GAAE,CAAG,CAAA,IAAG,UAAU,OAAO,CAAC,CAAC;YAC5D;AAAA,AACA,iBAAO,IAAE,CAAC;UACZ;AACA,WAAC,CAAD,UAAG,GAAE,CAAG;AACN,AAAI,cAAA,CAAA,QAAO,EAAI,CAAA,GAAE,CAAE,CAAA,CAAC,GAAK,IAAE,CAAA,CAAI,IAAE,EAAI,CAAA,IAAG,UAAU,EAAI,IAAE,CAAA,CAAI,IAAE,CAAC;AAC/D,eAAG,iBAAiB,UAAU,AAAC,CAAC,IAAG,CAAG,GAAC,CAAG,SAAO,CAAC,CAAC;UACrD;AACA,gBAAM,CAAN,UAAO,AAAC,CAAE;AACR,eAAG,iBAAiB,QAAQ,AAAC,EAAC,CAAC;UACjC;AACA,aAAG,CAAH,UAAI,AAAC,CAAE;AACL,eAAG,iBAAiB,KAAK,AAAC,EAAC,CAAC;UAC9B;AACA,kBAAQ,CAAR,UAAU,MAAK,AAAiC,CAAG;cAAjC,QAAM,6CAAI,KAAG;cAAG,SAAO,6CAAI,KAAG;AAC9C,4BAAgB,UAAU,AAAC,CAAC,IAAG,SAAS,CAAG,OAAK,CAAG,QAAM,CAAG,SAAO,CAAC,CAAC;UACvE;AAAA,aAnC8D,CAAC;MACzD,AAAC,EAAC,CAJ0B,CAAA;AAApC,cAAQ,AAAC,sBAAqC,CAAA;AAwC9C,WAAK,eAAe,AAAC,CAAC,QAAO,CAAG,aAAW,CAAG,EAAC,GAAE,CAAG,UAAQ,AAAC,CAAE;AAC3D,eAAO,EAAC,CAAC,eAAc,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;AACL,WAAK,eAAe,AAAC,CAAC,QAAO,UAAU,GAAG,CAAG,aAAW,CAAG,EAAC,GAAE,CAAG,UAAQ,AAAC,CAAE;AACxE,eAAO,EAAC,CAAC,MAAK,KAAK,OAAO,CAAC,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;IA3C0B;EAC3B,CAAA;AADI,CAAC,CAAC;AAoDwB","file":"src/router/location.js","sourceRoot":"/Users/yamaguchi/Desktop/mean-edge/node_modules/angular2/es6/dev/","sourcesContent":["import {BrowserLocation} from './browser_location';\nimport {StringWrapper} from 'angular2/src/facade/lang';\nimport {EventEmitter,\n  ObservableWrapper} from 'angular2/src/facade/async';\nexport class Location {\n  constructor(browserLocation) {\n    this._subject = new EventEmitter();\n    this._browserLocation = browserLocation;\n    this._baseHref = stripIndexHtml(this._browserLocation.getBaseHref());\n    this._browserLocation.onPopState((_) => this._onPopState(_));\n  }\n  _onPopState(_) {\n    ObservableWrapper.callNext(this._subject, {'url': this.path()});\n  }\n  path() {\n    return this.normalize(this._browserLocation.path());\n  }\n  normalize(url) {\n    return this._stripBaseHref(stripIndexHtml(url));\n  }\n  _stripBaseHref(url) {\n    if (this._baseHref.length > 0 && StringWrapper.startsWith(url, this._baseHref)) {\n      return StringWrapper.substring(url, this._baseHref.length);\n    }\n    return url;\n  }\n  go(url) {\n    var finalUrl = url[0] == '/' ? url : this._baseHref + '/' + url;\n    this._browserLocation.pushState(null, '', finalUrl);\n  }\n  forward() {\n    this._browserLocation.forward();\n  }\n  back() {\n    this._browserLocation.back();\n  }\n  subscribe(onNext, onThrow = null, onReturn = null) {\n    ObservableWrapper.subscribe(this._subject, onNext, onThrow, onReturn);\n  }\n}\nObject.defineProperty(Location, \"parameters\", {get: function() {\n    return [[BrowserLocation]];\n  }});\nObject.defineProperty(Location.prototype.go, \"parameters\", {get: function() {\n    return [[assert.type.string]];\n  }});\nfunction stripIndexHtml(url) {\n  if (url.length > 10 && StringWrapper.substring(url, url.length - 11) == '/index.html') {\n    return StringWrapper.substring(url, 0, url.length - 11);\n  }\n  return url;\n}\n//# sourceMappingURL=location.js.map\n\n//# sourceMappingURL=./location.map"]}