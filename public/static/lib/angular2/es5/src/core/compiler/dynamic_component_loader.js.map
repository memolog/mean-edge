{"version":3,"sources":["dynamic_component_loader.js"],"names":[],"mappings":"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","file":"src/core/compiler/dynamic_component_loader.js","sourceRoot":"/Users/yamaguchi/Desktop/mean-edge/node_modules/angular2/es6/dev/","sourcesContent":["import {Key,\n  Injector,\n  ResolvedBinding,\n  Binding,\n  bind} from 'angular2/di';\nimport {Injectable} from 'angular2/src/di/annotations_impl';\nimport {Compiler} from './compiler';\nimport {Type,\n  BaseException,\n  stringify,\n  isPresent} from 'angular2/src/facade/lang';\nimport {Promise} from 'angular2/src/facade/async';\nimport {AppViewManager,\n  ComponentCreateResult} from 'angular2/src/core/compiler/view_manager';\nimport {ElementRef} from './element_ref';\nexport class ComponentRef {\n  constructor(location, instance, dispose) {\n    this.location = location;\n    this.instance = instance;\n    this._dispose = dispose;\n  }\n  get hostView() {\n    return this.location.parentView;\n  }\n  dispose() {\n    this._dispose();\n  }\n}\nObject.defineProperty(ComponentRef, \"parameters\", {get: function() {\n    return [[ElementRef], [assert.type.any], [Function]];\n  }});\nexport class DynamicComponentLoader {\n  constructor(compiler, viewManager) {\n    this._compiler = compiler;\n    this._viewManager = viewManager;\n  }\n  loadIntoExistingLocation(typeOrBinding, location, injector = null) {\n    var binding = this._getBinding(typeOrBinding);\n    return this._compiler.compile(binding.token).then((componentProtoViewRef) => {\n      this._viewManager.createDynamicComponentView(location, componentProtoViewRef, binding, injector);\n      var component = this._viewManager.getComponent(location);\n      var dispose = () => {\n        throw new BaseException(\"Not implemented\");\n      };\n      return new ComponentRef(location, component, dispose);\n    });\n  }\n  loadIntoNewLocation(typeOrBinding, parentComponentLocation, elementSelector, injector = null) {\n    return this._compiler.compileInHost(this._getBinding(typeOrBinding)).then((hostProtoViewRef) => {\n      var hostViewRef = this._viewManager.createInPlaceHostView(parentComponentLocation, elementSelector, hostProtoViewRef, injector);\n      var newLocation = new ElementRef(hostViewRef, 0);\n      var component = this._viewManager.getComponent(newLocation);\n      var dispose = () => {\n        this._viewManager.destroyInPlaceHostView(parentComponentLocation, hostViewRef);\n      };\n      return new ComponentRef(newLocation, component, dispose);\n    });\n  }\n  loadNextToExistingLocation(typeOrBinding, location, injector = null) {\n    var binding = this._getBinding(typeOrBinding);\n    return this._compiler.compileInHost(binding).then((hostProtoViewRef) => {\n      var viewContainer = this._viewManager.getViewContainer(location);\n      var hostViewRef = viewContainer.create(hostProtoViewRef, viewContainer.length, null, injector);\n      var newLocation = new ElementRef(hostViewRef, 0);\n      var component = this._viewManager.getComponent(newLocation);\n      var dispose = () => {\n        var index = viewContainer.indexOf(hostViewRef);\n        viewContainer.remove(index);\n      };\n      return new ComponentRef(newLocation, component, dispose);\n    });\n  }\n  _getBinding(typeOrBinding) {\n    var binding;\n    if (typeOrBinding instanceof Binding) {\n      binding = typeOrBinding;\n    } else {\n      binding = bind(typeOrBinding).toClass(typeOrBinding);\n    }\n    return binding;\n  }\n}\nObject.defineProperty(DynamicComponentLoader, \"annotations\", {get: function() {\n    return [new Injectable()];\n  }});\nObject.defineProperty(DynamicComponentLoader, \"parameters\", {get: function() {\n    return [[Compiler], [AppViewManager]];\n  }});\nObject.defineProperty(DynamicComponentLoader.prototype.loadIntoExistingLocation, \"parameters\", {get: function() {\n    return [[], [ElementRef], [Injector]];\n  }});\nObject.defineProperty(DynamicComponentLoader.prototype.loadIntoNewLocation, \"parameters\", {get: function() {\n    return [[], [ElementRef], [assert.type.string], [Injector]];\n  }});\nObject.defineProperty(DynamicComponentLoader.prototype.loadNextToExistingLocation, \"parameters\", {get: function() {\n    return [[], [ElementRef], [Injector]];\n  }});\n//# sourceMappingURL=dynamic_component_loader.js.map\n\n//# sourceMappingURL=./dynamic_component_loader.map"]}