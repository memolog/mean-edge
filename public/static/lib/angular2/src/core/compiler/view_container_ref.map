{"version":3,"sources":["view_container_ref.js"],"names":[],"mappings":"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","file":"angular2/src/core/compiler/view_container_ref.js","sourcesContent":["import {ListWrapper, List} from 'angular2/src/facade/collection';\nimport {Injector} from 'angular2/di';\nimport {isPresent, isBlank} from 'angular2/src/facade/lang';\n\nimport * as avmModule from './view_manager';\n\nimport {ElementRef} from './element_ref';\nimport {ViewRef, ProtoViewRef, internalView} from './view_ref';\n/**\n * @exportedAs angular2/core\n */\nexport class ViewContainerRef {\n  _viewManager: avmModule.AppViewManager;\n  _element: ElementRef;\n\n  constructor(viewManager: avmModule.AppViewManager,\n              element: ElementRef) {\n    this._viewManager = viewManager;\n    this._element = element;\n  }\n\n  _getViews() {\n    var vc = internalView(this._element.parentView).viewContainers[this._element.boundElementIndex];\n    return isPresent(vc) ? vc.views : [];\n  }\n\n  clear():void {\n    for (var i = this.length - 1; i >= 0; i--) {\n      this.remove(i);\n    }\n  }\n\n  get(index: number): ViewRef {\n    return new ViewRef(this._getViews()[index]);\n  }\n\n  get length() /* :int */ {\n    return this._getViews().length;\n  }\n\n  // TODO(rado): profile and decide whether bounds checks should be added\n  // to the methods below.\n  create(protoViewRef:ProtoViewRef = null, atIndex:number=-1, context:ElementRef, injector:Injector = null): ViewRef {\n    if (atIndex == -1) atIndex = this.length;\n    return this._viewManager.createViewInContainer(this._element, atIndex, protoViewRef, context, injector);\n  }\n\n  insert(viewRef:ViewRef, atIndex:number=-1): ViewRef {\n    if (atIndex == -1) atIndex = this.length;\n    return this._viewManager.attachViewInContainer(this._element, atIndex, viewRef);\n  }\n\n  indexOf(viewRef:ViewRef) {\n    return ListWrapper.indexOf(this._getViews(), internalView(viewRef));\n  }\n\n  remove(atIndex:number=-1):void {\n    if (atIndex == -1) atIndex = this.length - 1;\n    this._viewManager.destroyViewInContainer(this._element, atIndex);\n    // view is intentionally not returned to the client.\n  }\n\n  /**\n   * The method can be used together with insert to implement a view move, i.e.\n   * moving the dom nodes while the directives in the view stay intact.\n   */\n  detach(atIndex:number=-1): ViewRef {\n    if (atIndex == -1) atIndex = this.length - 1;\n    return this._viewManager.detachViewInContainer(this._element, atIndex);\n  }\n}\n"]}